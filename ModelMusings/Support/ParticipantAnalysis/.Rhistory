rm(list = ls())  #Clear history
# Load required libraies
if (!require(tidyverse)) {
install.packages("tidyverse", repos="https://cran.cnr.berkeley.edu/", verbose = TRUE)
library(tidyverse)
}
if (!require(readxl)) {
install.packages("readxl", repos="http://cran.r-project.org")
library(readxl)
}
if (!require(RColorBrewer)) {
install.packages("RColorBrewer",repos="http://cran.r-project.org")
library(RColorBrewer) #
}
if (!require(dplyr)) {
install.packages("dplyr",repos="http://cran.r-project.org")
library(dplyr) #
}
if (!require(expss)) {
install.packages("expss",repos="http://cran.r-project.org")
library(expss) #
}
if (!require(reshape2)) {
install.packages("reshape2", repos="http://cran.r-project.org")
library(reshape2)
}
if (!require(pracma)) {
install.packages("pracma", repos="http://cran.r-project.org")
library(pracma)
}
if (!require(lubridate)) {
install.packages("lubridate", repos="http://cran.r-project.org")
library(lubridate)
}
if (!require(directlabels)) {
install.packages("directlabels", repo="http://cran.r-project.org")
library(directlabels)
}
if (!require(plyr)) {
install.packages("plyr", repo="http://cran.r-project.org")
library(plyr)
}
if (!require(ggplot)) {
install.packages("ggPlot", repo="http://cran.r-project.org", dependencies = T)
library(ggplot)
}
if (!require(stringr)) {
install.packages("stringr", repo="http://cran.r-project.org")
library(stringr)
}
# Load Data
# Set up a dataframe to describe locations in the Excel workbook where the data is
sStartCol <- "C"
nCols <- 3
sEndCol <- sStartCol + nCols - 1
letters[3]
LETTERS[3]
dfDataToLoad$Range <- paste(LETTERS[sStartCol],dfDataToLoad$Row,":",LETTERS[sStartCol+nCols-1],dfDataToLoad$Row)
sStartCol <- 3
nCols <- 3
dfDataToLoad <- data.frame(Description = c("Combined Storage", "Combined Storage", "Consumptive Use-Lower Basin", "Consumptive Use-Upper Basin", "Storage in Powell", "Storage in Powell", "Powell Release Temperature", "Powell Release Temperature", "Fish Outcome", "Fish Outcome"),
Sheet = rep(c("Participants", "LawOfRiver"),5),
Row = c(131, 127, 119, 115, 114, 110, 132, 128, 139, 135, 140, 136))
#Calculate the cell range from the provided information
dfDataToLoad$Range <- paste(LETTERS[sStartCol],dfDataToLoad$Row,":",LETTERS[sStartCol+nCols-1],dfDataToLoad$Row)
dfDataToLoad <- data.frame(Description = c("Combined Storage", "Combined Storage", "Consumptive Use-Lower Basin", "Consumptive Use-Lower Basin", "Consumptive Use-Upper Basin", "Consumptive Use-Upper Basin", "Storage in Powell", "Storage in Powell", "Powell Release Temperature", "Powell Release Temperature", "Fish Outcome", "Fish Outcome"),
Sheet = rep(c("Participants", "LawOfRiver"),6),
Row = c(131, 127, 119, 115, 114, 110, 132, 128, 139, 135, 140, 136))
dfDataToLoad$Range <- paste(LETTERS[sStartCol],dfDataToLoad$Row,":",LETTERS[sStartCol+nCols-1],dfDataToLoad$Row)
View(dfDataToLoad)
dfDataToLoad$Range <- paste0(LETTERS[sStartCol],dfDataToLoad$Row,":",LETTERS[sStartCol+nCols-1],dfDataToLoad$Row, sep="")
dfFullData <- read_excel(sExcelFile, sheet = dfDataToLoad$Sheet[1],  range = dfDataToLoad$Row[1])
sExcelFile <- 'PilotFlexAccounting-CombinedPowellMead-ParticipantsExample.xlsx'
dfFullData <- read_excel(sExcelFile, sheet = dfDataToLoad$Sheet[1],  range = dfDataToLoad$Row[1])
sExcelFile <- 'PilotFlexAccounting-CombinedPowellMead-ParticipantExample.xlsx'
dfFullData <- read_excel(sExcelFile, sheet = dfDataToLoad$Sheet[1],  range = dfDataToLoad$Row[1])
sapply(dfDataToLoad,"class")
dfFullData <- read_excel(sExcelFile, sheet = dfDataToLoad$Sheet[1],  range = dfDataToLoad$Row[1])
dfFullData <- read_excel(sExcelFile, sheet = "Participants",  range = "C131:E131")
dfFullData <- read_excel(sExcelFile, sheet = as.character(dfDataToLoad$Sheet[1]),  range = as.character(dfDataToLoad$Row[1]))
dfFullData <- read_excel(sExcelFile, sheet = dfDataToLoad$Sheet[1],  dfDataToLoad$Range[1])
View(dfFullData)
dfCombinedStorage <- rbind(read_excel(sExcelFile, sheet = dfDataToLoad$Sheet[1],  dfDataToLoad$Range[1]),
read_excel(sExcelFile, sheet = dfDataToLoad$Sheet[2],  dfDataToLoad$Range[2]))
View(dfCombinedStorage)
dfCombinedStorage <- rbind(read_excel(sExcelFile, col_names = FALSE, sheet = dfDataToLoad$Sheet[1],  dfDataToLoad$Range[1]),
read_excel(sExcelFile, col_names = FALSE, sheet = dfDataToLoad$Sheet[2],  dfDataToLoad$Range[2]))
cColHeads <- paste(rep("Year",nCols),seq(1:nCols),"")
colnames(dfCombinedStorage) <- cColHeads
dfCombinedStorage$DataType <- dfDataToLoad$Description[1:2]
dfCombinedStorage$Trace <- dfDataToLoad$Sheet[1:2]
dfAllData <- read_excel(sExcelFile, col_names = FALSE, sheet = dfDataToLoad$Sheet[1],  dfDataToLoad$Range[1])
#Loop over remaining rows
for(i in 2:nrow(dfDataToLoad)){
dfAllData <- rbind(dfAllData,read_excel(sExcelFile, col_names = FALSE, sheet = dfDataToLoad$Sheet[i],  dfDataToLoad$Range[i]))
}
View(dfAllData)
colnames(dfAllData) <- cColHeads
dfCombinedStorage$DataType <- dfDataToLoad$Description
dfCombinedStorage$Trace <- dfDataToLoad$Sheet
dfAllData$DataType <- dfDataToLoad$Description
dfAllData<- dfDataToLoad$Sheet
dfAllData <- read_excel(sExcelFile, col_names = FALSE, sheet = dfDataToLoad$Sheet[1],  dfDataToLoad$Range[1])
#Loop over remaining rows
for(i in 2:nrow(dfDataToLoad)){
dfAllData <- rbind(dfAllData,read_excel(sExcelFile, col_names = FALSE, sheet = dfDataToLoad$Sheet[i],  dfDataToLoad$Range[i]))
}
# Rename the column headers
colnames(dfAllData) <- cColHeads
# Add in the remaining meta data for Data type and trace type
dfAllData$DataType <- dfDataToLoad$Description
dfAllData$Trace <- dfDataToLoad$Sheet
dfDataToLoad <- data.frame(Description = c("Combined Storage", "Combined Storage", "Consumptive Use-Lower Basin", "Consumptive Use-Lower Basin", "Consumptive Use-Upper Basin", "Consumptive Use-Upper Basin", "Storage in Powell", "Storage in Powell", "Powell Release Temperature", "Powell Release Temperature", "Fish Outcome", "Fish Outcome"),
Sheet = rep(c("Participants", "LawOfRiver"),6),
Row = c(131, 127, 119, 118, 114, 110, 132, 128, 139, 135, 140, 136))
# Calculate the cell range from the provided information
dfDataToLoad$Range <- paste0(LETTERS[sStartCol],dfDataToLoad$Row,":",LETTERS[sStartCol+nCols-1],dfDataToLoad$Row, sep="")
# Define the Excel file with all the data
sExcelFile <- 'PilotFlexAccounting-CombinedPowellMead-ParticipantExample.xlsx'
# Read in the Combined Storage values
# Read first row
dfAllData <- read_excel(sExcelFile, col_names = FALSE, sheet = dfDataToLoad$Sheet[1],  dfDataToLoad$Range[1])
#Loop over remaining rows
for(i in 2:nrow(dfDataToLoad)){
dfAllData <- rbind(dfAllData,read_excel(sExcelFile, col_names = FALSE, sheet = dfDataToLoad$Sheet[i],  dfDataToLoad$Range[i]))
}
# Rename the column headers
colnames(dfAllData) <- cColHeads
# Add in the remaining meta data for Data type and trace type
dfAllData$DataType <- dfDataToLoad$Description
dfAllData$Trace <- dfDataToLoad$Sheet
dfDataToLoad <- data.frame(Description = c("Combined Storage", "Combined Storage", "Consumptive Use-Lower Basin", "Consumptive Use-Lower Basin", "Consumptive Use-Upper Basin", "Consumptive Use-Upper Basin", "Storage in Powell", "Storage in Powell", "Powell Release Temperature", "Powell Release Temperature", "Fish Outcome", "Fish Outcome"),
Sheet = rep(c("Participants", "LawOfRiver"),6),
Row = c(131, 127, 119, 115, 118, 114, 132, 128, 139, 135, 140, 136))
# Calculate the cell range from the provided information
dfDataToLoad$Range <- paste0(LETTERS[sStartCol],dfDataToLoad$Row,":",LETTERS[sStartCol+nCols-1],dfDataToLoad$Row, sep="")
# Define the Excel file with all the data
sExcelFile <- 'PilotFlexAccounting-CombinedPowellMead-ParticipantExample.xlsx'
# Read in the Combined Storage values
# Read first row
dfAllData <- read_excel(sExcelFile, col_names = FALSE, sheet = dfDataToLoad$Sheet[1],  dfDataToLoad$Range[1])
#Loop over remaining rows
for(i in 2:nrow(dfDataToLoad)){
dfAllData <- rbind(dfAllData,read_excel(sExcelFile, col_names = FALSE, sheet = dfDataToLoad$Sheet[i],  dfDataToLoad$Range[i]))
}
# Rename the column headers
colnames(dfAllData) <- cColHeads
# Add in the remaining meta data for Data type and trace type
dfAllData$DataType <- dfDataToLoad$Description
dfAllData$Trace <- dfDataToLoad$Sheet
dfAllDataMelt <- melt(id.vars = c("DataType", "Trace"), measure.vars = cColHeads)
dfAllDataMelt <- melt(dfAllData, id.vars = c("DataType", "Trace"), measure.vars = cColHeads)
View(dfAllDataMelt)
ggplot(data = DfAllData %>% filter(DataType = "Combined Storage"), aes(x=variable), value) +
geom_line()
ggplot(data = dfAllData %>% filter(DataType = "Combined Storage"), aes(x=variable), value) +
geom_line()
ggplot(data = dfAllData %>% filter(DataType == "Combined Storage"), aes(x=variable), value) +
geom_line()
ggplot(data = dfAllData %>% filter(DataType == "Combined Storage"), aes(x=variable, y =value, color = Trace)) +
geom_line()
ggplot(data = dfAllDataMelt %>% filter(DataType == "Combined Storage"), aes(x= variable, y =value, color = Trace)) +
geom_line()
ggplot(data = dfAllDataMelt %>% filter(DataType == "Combined Storage"), aes(x= variable, y =value, color = Trace, group = variable)) +
geom_line()
ggplot(data = dfAllDataMelt %>% filter(DataType == "Combined Storage"), aes(x= variable, y =value, color = Trace, group = Trace)) +
geom_line()
ggplot(data = dfAllDataMelt %>% filter(DataType == "Combined Storage"), aes(x= variable, y =value, color = Trace, group = Trace)) +
geom_line() +
theme_bw() +
labs(x="", y="Combined Storage (MAF)") +
theme(text = element_text(size=20),  legend.title = element_blank(),
legend.text=element_text(size=18),
legend.position= c(0.1,0.80))
ggplot(data = dfAllDataMelt %>% filter(DataType == "Combined Storage"), aes(x= variable, y =value, color = Trace, group = Trace)) +
geom_line(size = 2) +
theme_bw() +
#Scales
scale_y_continuous(limits = c(10,20), breaks = seq(10,20, by = 2)) +
labs(x="", y="Combined Storage (MAF)") +
theme(text = element_text(size=20),  legend.title = element_blank(),
legend.text=element_text(size=18),
legend.position= c(0.1,0.80))
ggplot(data = dfAllDataMelt %>% filter(DataType == "Combined Storage"), aes(x= variable, y =as.numeric(value), color = Trace, group = Trace)) +
geom_line(size = 2) +
theme_bw() +
#Scales
scale_y_continuous(limits = c(10,20), breaks = seq(10,20, by = 2)) +
labs(x="", y="Combined Storage (MAF)") +
theme(text = element_text(size=20),  legend.title = element_blank(),
legend.text=element_text(size=18),
legend.position= c(0.1,0.80))
ggplot(data = dfAllDataMelt %>% filter(DataType == "Combined Storage"), aes(x= variable, y =as.numeric(value), color = Trace, group = Trace)) +
geom_line(size = 2) +
theme_bw() +
#Scales
scale_y_continuous(limits = c(10,20), breaks = seq(10,20, by = 2)) +
scale_x_continuous(limites = c(0.5, nNumCols)) +
labs(x="", y="Combined Storage (MAF)") +
theme(text = element_text(size=20),  legend.title = element_blank(),
legend.text=element_text(size=18),
legend.position= c(0.1,0.80))
ggplot(data = dfAllDataMelt %>% filter(DataType == "Combined Storage"), aes(x= variable, y =as.numeric(value), color = Trace, group = Trace)) +
geom_line(size = 2) +
theme_bw() +
#Scales
scale_y_continuous(limits = c(10,20), breaks = seq(10,20, by = 2)) +
scale_x_continuous(limits = c(0.5, nNumCols)) +
labs(x="", y="Combined Storage (MAF)") +
theme(text = element_text(size=20),  legend.title = element_blank(),
legend.text=element_text(size=18),
legend.position= c(0.1,0.80))
ggplot(data = dfAllDataMelt %>% filter(DataType == "Combined Storage"), aes(x= variable, y =as.numeric(value), color = Trace, group = Trace)) +
geom_line(size = 2) +
theme_bw() +
#Scales
scale_y_continuous(limits = c(10,20), breaks = seq(10,20, by = 2)) +
scale_x_continuous(limits = c(0.5, nCols)) +
labs(x="", y="Combined Storage (MAF)") +
theme(text = element_text(size=20),  legend.title = element_blank(),
legend.text=element_text(size=18),
legend.position= c(0.1,0.80))
ggplot(data = dfAllDataMelt %>% filter(DataType == "Combined Storage"), aes(x= variable, y =as.numeric(value), color = Trace, group = Trace)) +
geom_line(size = 2) +
theme_bw() +
#Scales
scale_y_continuous(limits = c(10,20), breaks = seq(10,20, by = 2)) +
#scale_x_continuous(limits = c(0.5, nCols)) +
labs(x="", y="Combined Storage (MAF)") +
theme(text = element_text(size=20),  legend.title = element_blank(),
legend.text=element_text(size=18),
legend.position= c(0.1,0.80))
ggplot(data = dfAllDataMelt %>% filter(DataType == "Combined Storage"), aes(x= variable, y =as.numeric(value), color = Trace, group = Trace)) +
geom_line(size = 2) +
theme_bw() +
#Scales
scale_y_continuous(limits = c(10,20), breaks = seq(10,20, by = 2)) +
#scale_x_continuous(limits = c(0.5, nCols)) +
scale_color_discrete(breaks = c("Participants","LawOfRiver"), labels=c("Participants", "Law of River"))+
labs(x="", y="Combined Storage (MAF)") +
theme(text = element_text(size=20),  legend.title = element_blank(),
legend.text=element_text(size=18),
legend.position= c(0.1,0.80))
ggplot(data = dfAllDataMelt %>% filter(DataType == "Combined Storage"), aes(x= variable, y =as.numeric(value), color = Trace, group = Trace, linetype = Trace)) +
geom_line(size = 2) +
theme_bw() +
#Scales
scale_y_continuous(limits = c(10,20), breaks = seq(10,20, by = 2)) +
#scale_x_continuous(limits = c(0.5, nCols)) +
scale_color_discrete(breaks = c("Participants","LawOfRiver"), labels=c("Participants", "Law of River")) +
scale_linetype_discrete(values = c("solid", "dashed"), breaks = c("Participants","LawOfRiver"), labels=c("Participants", "Law of River")) +
labs(x="", y="Combined Storage (MAF)") +
theme(text = element_text(size=20),  legend.title = element_blank(),
legend.text=element_text(size=18),
legend.position= c(0.1,0.80))
ggplot(data = dfAllDataMelt %>% filter(DataType == "Combined Storage"), aes(x= variable, y =as.numeric(value), color = Trace, group = Trace, linetype = Trace)) +
geom_line(size = 2) +
theme_bw() +
#Scales
scale_y_continuous(limits = c(10,20), breaks = seq(10,20, by = 2)) +
#scale_x_continuous(limits = c(0.5, nCols)) +
scale_color_discrete(breaks = c("Participants","LawOfRiver"), labels=c("Participants", "Law of River")) +
scale_linetype_discrete(values = c("solid", "longdash"), breaks = c("Participants","LawOfRiver"), labels=c("Participants", "Law of River")) +
labs(x="", y="Combined Storage (MAF)") +
theme(text = element_text(size=20),  legend.title = element_blank(),
legend.text=element_text(size=18),
legend.position= c(0.1,0.80))
ggplot(data = dfAllDataMelt %>% filter(DataType == "Combined Storage"), aes(x= variable, y =as.numeric(value), color = Trace, group = Trace, linetype = Trace)) +
geom_line(size = 2) +
theme_bw() +
#Scales
scale_y_continuous(limits = c(10,20), breaks = seq(10,20, by = 2)) +
#scale_x_continuous(limits = c(0.5, nCols)) +
scale_color_discrete(breaks = c("Participants","LawOfRiver"), labels=c("Participants", "Law of River")) +
scale_linetype_manual(legend = FALSE, values = c("solid", "longdash"), breaks = c("Participants","LawOfRiver"), labels=c("Participants", "Law of River")) +
labs(x="", y="Combined Storage (MAF)") +
theme(text = element_text(size=20),  legend.title = element_blank(),
legend.text=element_text(size=18),
legend.position= c(0.1,0.80))
ggplot(data = dfAllDataMelt %>% filter(DataType == "Combined Storage"), aes(x= variable, y =as.numeric(value), color = Trace, group = Trace, linetype = Trace)) +
geom_line(size = 2) +
theme_bw() +
#Scales
scale_y_continuous(limits = c(10,20), breaks = seq(10,20, by = 2)) +
#scale_x_continuous(limits = c(0.5, nCols)) +
scale_color_discrete(breaks = c("Participants","LawOfRiver"), labels=c("Participants", "Law of River")) +
scale_linetype_manual(values = c("solid", "longdash"), breaks = c("Participants","LawOfRiver"), labels=c("Participants", "Law of River")) +
labs(x="", y="Combined Storage (MAF)") +
theme(text = element_text(size=20),  legend.title = element_blank(),
legend.text=element_text(size=18),
legend.position= c(0.1,0.80))
ggplot(data = dfAllDataMelt %>% filter(DataType == "Combined Storage"), aes(x= variable, y =as.numeric(value), color = Trace, group = Trace, linetype = Trace)) +
geom_line(size = 2) +
theme_bw() +
#Scales
scale_y_continuous(limits = c(10,20), breaks = seq(10,20, by = 2)) +
#scale_x_continuous(limits = c(0.5, nCols)) +
scale_color_discrete(breaks = c("Participants","LawOfRiver"), labels=c("Participants", "Law of River")) +
scale_linetype_manual(values = c("solid", "longdash"), breaks = c("Participants","LawOfRiver"), labels=c("Participants", "Law of River")) +
labs(x="", y="Combined Storage (MAF)") +
theme(text = element_text(size=20),  legend.title = element_blank(),
legend.text=element_text(size=18),
legend.position= c(0.9,0.80))
ggplot(data = dfAllDataMelt %>% filter(DataType == "Combined Storage"), aes(x= variable, y =as.numeric(value), color = Trace, group = Trace, linetype = Trace)) +
geom_line(size = 2) +
theme_bw() +
#Scales
scale_y_continuous(limits = c(10,20), breaks = seq(10,20, by = 2)) +
#scale_x_continuous(limits = c(0.5, nCols)) +
scale_color_discrete(breaks = c("Participants","LawOfRiver"), labels=c("Participants", "Law of River")) +
scale_linetype_manual(values = c("solid", "longdash"), breaks = c("Participants","LawOfRiver"), labels=c("Participants", "Law of River")) +
labs(x="", y="Combined Storage (MAF)") +
theme(text = element_text(size=20),  legend.title = element_blank(),
legend.text=element_text(size=18),
legend.position= c(0.9,0.70))
ggplot(data = dfAllDataMelt %>% filter(DataType == "Combined Storage"), aes(x= variable, y =as.numeric(value), color = Trace, group = Trace, linetype = Trace)) +
geom_line(size = 2) +
theme_bw() +
#Scales
scale_y_continuous(limits = c(10,20), breaks = seq(10,20, by = 2)) +
#scale_x_continuous(limits = c(0.5, nCols)) +
scale_color_discrete(breaks = c("Participants","LawOfRiver"), labels=c("Participants", "Law of River")) +
scale_linetype_manual(values = c("solid", "longdash"), breaks = c("Participants","LawOfRiver"), labels=c("Participants", "Law of River")) +
labs(x="", y="Combined Storage (MAF)") +
theme(text = element_text(size=20),  legend.title = element_blank(),
legend.text=element_text(size=18),
legend.position= c(0.7,0.80))
ggplot(data = dfAllDataMelt %>% filter(DataType == "ConsumptiveUse-LowerBasin" || DataType == "ConsumptiveUse-UpperBasin"),
aes(x= variable, y =as.numeric(value), color = Trace, group = Trace, linetype = Trace)) +
geom_line(size = 2) +
theme_bw() +
#Scales
scale_y_continuous(limits = c(0,10), breaks = seq(0,10, by = 2)) +
#scale_x_continuous(limits = c(0.5, nCols)) +
scale_color_discrete(breaks = c("Participants","LawOfRiver"), labels=c("Participants", "Law of River")) +
scale_linetype_manual(values = c("solid", "longdash"), breaks = c("Participants","LawOfRiver"), labels=c("Participants", "Law of River")) +
labs(x="", y="Combined Storage (MAF)") +
theme(text = element_text(size=20),  legend.title = element_blank(),
legend.text=element_text(size=18),
legend.position= c(0.7,0.80))
ggplot(data = dfAllDataMelt %>% filter(DataType == "ConsumptiveUse-LowerBasin" | DataType == "ConsumptiveUse-UpperBasin"),
aes(x= variable, y =as.numeric(value), color = Trace, group = Trace, linetype = Trace)) +
geom_line(size = 2) +
theme_bw() +
#Scales
scale_y_continuous(limits = c(0,10), breaks = seq(0,10, by = 2)) +
#scale_x_continuous(limits = c(0.5, nCols)) +
scale_color_discrete(breaks = c("Participants","LawOfRiver"), labels=c("Participants", "Law of River")) +
scale_linetype_manual(values = c("solid", "longdash"), breaks = c("Participants","LawOfRiver"), labels=c("Participants", "Law of River")) +
labs(x="", y="Combined Storage (MAF)") +
theme(text = element_text(size=20),  legend.title = element_blank(),
legend.text=element_text(size=18),
legend.position= c(0.7,0.80))
ggplot(data = dfAllDataMelt %>% filter(DataType == "ConsumptiveUse-LowerBasin"),
aes(x= variable, y =as.numeric(value), color = Trace, group = Trace, linetype = Trace)) +
geom_line(size = 2) +
theme_bw() +
#Scales
scale_y_continuous(limits = c(0,10), breaks = seq(0,10, by = 2)) +
#scale_x_continuous(limits = c(0.5, nCols)) +
scale_color_discrete(breaks = c("Participants","LawOfRiver"), labels=c("Participants", "Law of River")) +
scale_linetype_manual(values = c("solid", "longdash"), breaks = c("Participants","LawOfRiver"), labels=c("Participants", "Law of River")) +
labs(x="", y="Combined Storage (MAF)") +
theme(text = element_text(size=20),  legend.title = element_blank(),
legend.text=element_text(size=18),
legend.position= c(0.7,0.80))
dfAllDataMelt %>% filter(DataType == "ConsumptiveUse-LowerBasin")
ggplot(data = dfAllDataMelt %>% filter(DataType == "ConsumptiveUse-Lower Basin"),
aes(x= variable, y =as.numeric(value), color = Trace, group = Trace, linetype = Trace)) +
geom_line(size = 2) +
theme_bw() +
#Scales
scale_y_continuous(limits = c(0,10), breaks = seq(0,10, by = 2)) +
#scale_x_continuous(limits = c(0.5, nCols)) +
scale_color_discrete(breaks = c("Participants","LawOfRiver"), labels=c("Participants", "Law of River")) +
scale_linetype_manual(values = c("solid", "longdash"), breaks = c("Participants","LawOfRiver"), labels=c("Participants", "Law of River")) +
labs(x="", y="Combined Storage (MAF)") +
theme(text = element_text(size=20),  legend.title = element_blank(),
legend.text=element_text(size=18),
legend.position= c(0.7,0.80))
ggplot(data = dfAllDataMelt %>% filter(DataType == "Consumptive Use-Lower Basin"),
aes(x= variable, y =as.numeric(value), color = Trace, group = Trace, linetype = Trace)) +
geom_line(size = 2) +
theme_bw() +
#Scales
scale_y_continuous(limits = c(0,10), breaks = seq(0,10, by = 2)) +
#scale_x_continuous(limits = c(0.5, nCols)) +
scale_color_discrete(breaks = c("Participants","LawOfRiver"), labels=c("Participants", "Law of River")) +
scale_linetype_manual(values = c("solid", "longdash"), breaks = c("Participants","LawOfRiver"), labels=c("Participants", "Law of River")) +
labs(x="", y="Combined Storage (MAF)") +
theme(text = element_text(size=20),  legend.title = element_blank(),
legend.text=element_text(size=18),
legend.position= c(0.7,0.80))
ggplot(data = dfAllDataMelt %>% filter((DataType == "Consumptive Use-Lower Basin") | (DataType == "Consumptive Use-Lower Basin")) ,
aes(x= variable, y =as.numeric(value), color = Trace, group = Trace, linetype = Trace)) +
geom_line(size = 2) +
theme_bw() +
#Scales
scale_y_continuous(limits = c(0,10), breaks = seq(0,10, by = 2)) +
#scale_x_continuous(limits = c(0.5, nCols)) +
scale_color_discrete(breaks = c("Participants","LawOfRiver"), labels=c("Participants", "Law of River")) +
scale_linetype_manual(values = c("solid", "longdash"), breaks = c("Participants","LawOfRiver"), labels=c("Participants", "Law of River")) +
labs(x="", y="Combined Storage (MAF)") +
theme(text = element_text(size=20),  legend.title = element_blank(),
legend.text=element_text(size=18),
legend.position= c(0.7,0.80))
ggplot(data = dfAllDataMelt %>% filter((DataType == "Consumptive Use-Lower Basin") | (DataType == "Consumptive Use-Upper Basin")) ,
aes(x= variable, y =as.numeric(value), color = Trace, group = Trace, linetype = Trace)) +
geom_line(size = 2) +
theme_bw() +
#Scales
scale_y_continuous(limits = c(0,10), breaks = seq(0,10, by = 2)) +
#scale_x_continuous(limits = c(0.5, nCols)) +
scale_color_discrete(breaks = c("Participants","LawOfRiver"), labels=c("Participants", "Law of River")) +
scale_linetype_manual(values = c("solid", "longdash"), breaks = c("Participants","LawOfRiver"), labels=c("Participants", "Law of River")) +
labs(x="", y="Combined Storage (MAF)") +
theme(text = element_text(size=20),  legend.title = element_blank(),
legend.text=element_text(size=18),
legend.position= c(0.7,0.80))
ggplot(data = dfAllDataMelt %>% filter((DataType == "Consumptive Use-Upper Basin") | (DataType == "Consumptive Use-Upper Basin")) ,
aes(x= variable, y =as.numeric(value), color = Trace, group = Trace, linetype = Trace)) +
geom_line(size = 2) +
theme_bw() +
#Scales
scale_y_continuous(limits = c(0,10), breaks = seq(0,10, by = 2)) +
#scale_x_continuous(limits = c(0.5, nCols)) +
scale_color_discrete(breaks = c("Participants","LawOfRiver"), labels=c("Participants", "Law of River")) +
scale_linetype_manual(values = c("solid", "longdash"), breaks = c("Participants","LawOfRiver"), labels=c("Participants", "Law of River")) +
labs(x="", y="Combined Storage (MAF)") +
theme(text = element_text(size=20),  legend.title = element_blank(),
legend.text=element_text(size=18),
legend.position= c(0.7,0.80))
ggplot(data = dfAllDataMelt %>% filter((DataType == "Consumptive Use-Upper Basin") | (DataType == "Consumptive Use-Upper Basin")) ,
aes(x= variable, y =as.numeric(value), color = Trace, group = interaction(Trace, DataType), linetype = Trace)) +
geom_line(size = 2) +
theme_bw() +
#Scales
scale_y_continuous(limits = c(0,10), breaks = seq(0,10, by = 2)) +
#scale_x_continuous(limits = c(0.5, nCols)) +
scale_color_discrete(breaks = c("Participants","LawOfRiver"), labels=c("Participants", "Law of River")) +
scale_linetype_manual(values = c("solid", "longdash"), breaks = c("Participants","LawOfRiver"), labels=c("Participants", "Law of River")) +
labs(x="", y="Combined Storage (MAF)") +
theme(text = element_text(size=20),  legend.title = element_blank(),
legend.text=element_text(size=18),
legend.position= c(0.7,0.80))
ggplot(data = dfAllDataMelt %>% filter((DataType == "Consumptive Use-Lower Basin") | (DataType == "Consumptive Use-Upper Basin")) ,
aes(x= variable, y =as.numeric(value), color = Trace, group = interaction(Trace, DataType), linetype = Trace)) +
geom_line(size = 2) +
theme_bw() +
#Scales
scale_y_continuous(limits = c(0,10), breaks = seq(0,10, by = 2)) +
#scale_x_continuous(limits = c(0.5, nCols)) +
scale_color_discrete(breaks = c("Participants","LawOfRiver"), labels=c("Participants", "Law of River")) +
scale_linetype_manual(values = c("solid", "longdash"), breaks = c("Participants","LawOfRiver"), labels=c("Participants", "Law of River")) +
labs(x="", y="Combined Storage (MAF)") +
theme(text = element_text(size=20),  legend.title = element_blank(),
legend.text=element_text(size=18),
legend.position= c(0.7,0.80))
